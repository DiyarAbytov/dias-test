# DIYAS — Логика системы (Производство пластика)

**Назначение:** учёт производства пластика от сырья до склада ГП. Каждая вкладка связана с другими; у каждого сотрудника свои вкладки (доступы); всё идёт этапно со статусами.

## Связи между вкладками (кто что создаёт → кому передаёт)

```
[Склад сырья]     → приход сырья → остатки
       ↓
[Хим. элементы]   → план заданий → сотрудник выполняет (списание сырья, приход на склад хим. элементов)
       ↓
[Рецепты]         → продукт = сырьё + хим. элементы (нормы)
       ↓
[Заказы]          → план производства (рецепт, линия, кол-во) → статусы: Создан → В работе → Готово
       ↓
[Смены]           → открыта смена на линии → можно выпускать по заказам этой линии
       ↓
[Производство]    → оператор видит ПЛАН (заказы в работе по линии) → выпускает партию → списание сырья/хим. элементов
       ↓
[ОТК]             → партии «Ожидают проверки» → инспектор: Принято/Брак → принятое уходит на приёмку ГП
       ↓
[Склад ГП]        → приёмка с производства → партия ГП → остатки ГП
```

## Роли и вкладки по этапам

| Этап | Вкладка | Кто действует | Действия |
|------|---------|----------------|----------|
| 1 | Пользователи и роли | Админ | Создать/редактировать сотрудников, выдавать доступы к вкладкам |
| 2 | Линии | Админ/Планировщик | Справочник производственных линий |
| 3 | Материалы склада | Кладовщик/Приёмка | Приход сырья, остатки |
| 4 | Химические элементы | Оператор хим. участка / Мастер | **План заданий** (видит что делать, ставит В работу → Выполнено), справочник составов, склад хим. элементов |
| 5 | Рецепты | Технолог/Планировщик | Состав продукции (сырьё + хим. элементы) |
| 6 | Смены | Начальник смены | Открыть/закрыть смену на линии |
| 7 | Заказы на производство | Планировщик | Создать заказ (рецепт, линия, кол-во). Оператор видит **план по линиям** |
| 8 | Производство | Оператор линии | **План по заказам** (заказы в работе) → выпуск партии → списание, статус заказа |
| 9 | ОТК | Инспектор ОТК | Ожидают проверки → Принято/Брак |
| 10 | Склад ГП | Кладовщик ГП | Принять партию на склад ГП, партии ГП, остатки |

## Статусы

- **Задание (хим. элементы):** К выполнению → В работе → Выполнено
- **Заказ на производство:** Создан → В работе → Готово
- **Смена:** Активна → Закрыта
- **Партия (ОТК):** Ожидает ОТК → Принято / Брак
- **Партия ГП:** Доступна / Зарезервирована / Отгружена
